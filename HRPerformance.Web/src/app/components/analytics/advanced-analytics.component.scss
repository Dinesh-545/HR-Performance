.advanced-analytics-container {
  padding: 24px;
  background: #f5f5f5;
  min-height: 100vh;

  .header-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 32px;
    padding: 24px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

    .header-content {
      h1 {
        margin: 0 0 8px 0;
        color: #1976d2;
        font-size: 28px;
        font-weight: 600;
      }

      p {
        margin: 0;
        color: #666;
        font-size: 16px;
      }
    }

    .controls-section {
      display: flex;
      align-items: center;
      gap: 16px;

      .theme-selector,
      .export-selector {
        width: 140px;
      }

      mat-slide-toggle {
        margin-right: 16px;
      }

      button {
        margin-left: 8px;
      }
    }
  }

  .loading-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 60px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

    p {
      margin-top: 16px;
      color: #666;
      font-size: 16px;
    }
  }

  .live-metrics-section {
    margin-bottom: 32px;

    h3 {
      color: #1976d2;
      margin-bottom: 16px;
      font-size: 20px;
      font-weight: 600;
    }

    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 16px;

      .metric-card {
        transition: transform 0.2s ease;

        &:hover {
          transform: translateY(-2px);
        }

        .metric-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;

          h4 {
            margin: 0;
            font-size: 14px;
            color: #666;
          }

          mat-icon {
            font-size: 20px;
            width: 20px;
            height: 20px;

            &.trend-up {
              color: #4caf50;
            }

            &.trend-down {
              color: #f44336;
            }

            &.trend-stable {
              color: #ff9800;
            }
          }
        }

        .metric-value {
          font-size: 32px;
          font-weight: 700;
          margin-bottom: 8px;
        }

        .metric-change {
          font-size: 14px;
          font-weight: 500;

          &.change-up {
            color: #4caf50;
          }

          &.change-down {
            color: #f44336;
          }

          &.change-stable {
            color: #ff9800;
          }
        }
      }
    }
  }

  .analytics-content {
    .charts-section {
      margin-bottom: 40px;

      h3 {
        color: #1976d2;
        margin-bottom: 20px;
        font-size: 22px;
        font-weight: 600;
        border-bottom: 2px solid #e3f2fd;
        padding-bottom: 8px;
      }

      .chart-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 24px;

        .chart-card {
          background: white;
          border-radius: 12px;
          padding: 20px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          transition: transform 0.2s ease, box-shadow 0.2s ease;

          &:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
          }

          &.full-width {
            grid-column: 1 / -1;
          }

          .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;

            h4 {
              margin: 0;
              color: #333;
              font-size: 18px;
              font-weight: 600;
            }

            button {
              color: #666;
            }
          }

          .chart-container {
            position: relative;
            height: 300px;
            width: 100%;

            canvas {
              max-height: 100%;
              max-width: 100%;
            }
          }
        }
      }
    }

    .activity-section,
    .alerts-section {
      margin-bottom: 32px;

      h3 {
        color: #1976d2;
        margin-bottom: 16px;
        font-size: 20px;
        font-weight: 600;
      }

      .activity-list,
      .alerts-list {
        display: flex;
        flex-direction: column;
        gap: 12px;

        .activity-card,
        .alert-card {
          transition: transform 0.2s ease;

          &:hover {
            transform: translateX(4px);
          }

          .activity-header,
          .alert-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;

            mat-icon {
              font-size: 20px;
              width: 20px;
              height: 20px;

              &.activity-goal_completed {
                color: #4caf50;
              }

              &.activity-review_submitted {
                color: #2196f3;
              }

              &.activity-employee_added {
                color: #ff9800;
              }

              &.activity-skill_updated {
                color: #9c27b0;
              }

              &.alert-warning {
                color: #ff9800;
              }

              &.alert-error {
                color: #f44336;
              }

              &.alert-success {
                color: #4caf50;
              }

              &.alert-info {
                color: #2196f3;
              }
            }

            .activity-message,
            .alert-message {
              flex: 1;
              font-size: 14px;
              color: #333;
            }

            .activity-time,
            .alert-time {
              font-size: 12px;
              color: #999;
            }
          }

          .activity-details,
          .alert-details {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;

            mat-chip {
              font-size: 12px;
            }
          }
        }

        .alert-card {
          &.alert-warning {
            border-left: 4px solid #ff9800;
          }

          &.alert-error {
            border-left: 4px solid #f44336;
          }

          &.alert-success {
            border-left: 4px solid #4caf50;
          }

          &.alert-info {
            border-left: 4px solid #2196f3;
          }
        }
      }
    }
  }
}

// Responsive Design
@media (max-width: 1200px) {
  .advanced-analytics-container {
    .header-section {
      flex-direction: column;
      gap: 20px;
      align-items: stretch;

      .controls-section {
        flex-wrap: wrap;
        justify-content: center;
      }
    }

    .analytics-content {
      .charts-section {
        .chart-grid {
          grid-template-columns: 1fr;
        }
      }
    }
  }
}

@media (max-width: 768px) {
  .advanced-analytics-container {
    padding: 16px;

    .header-section {
      padding: 16px;

      .header-content {
        h1 {
          font-size: 24px;
        }

        p {
          font-size: 14px;
        }
      }

      .controls-section {
        flex-direction: column;
        gap: 12px;

        .theme-selector,
        .export-selector {
          width: 100%;
        }

        button {
          width: 100%;
        }
      }
    }

    .live-metrics-section {
      .metrics-grid {
        grid-template-columns: 1fr;
      }
    }

    .analytics-content {
      .charts-section {
        .chart-grid {
          gap: 16px;

          .chart-card {
            padding: 16px;

            .chart-container {
              height: 250px;
            }
          }
        }
      }
    }
  }
}

// Theme-specific styles
.advanced-analytics-container {
  &.theme-dark {
    background: #1a1a1a;
    color: white;

    .header-section,
    .loading-container,
    .chart-card,
    .activity-card,
    .alert-card,
    .metric-card {
      background: #2d2d2d;
      color: white;
    }

    h1, h3, h4 {
      color: #fff;
    }

    p {
      color: #ccc;
    }
  }

  &.theme-brand {
    background: #f8f9fa;

    .header-section {
      background: linear-gradient(135deg, #1976d2, #42a5f5);
      color: white;

      h1, p {
        color: white;
      }
    }

    .chart-card {
      border: 1px solid #e3f2fd;
    }
  }
}

// Animation classes
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.chart-card,
.metric-card,
.activity-card,
.alert-card {
  animation: fadeIn 0.5s ease-out;
}

// Live update indicators
.live-indicator {
  display: inline-block;
  width: 8px;
  height: 8px;
  background: #4caf50;
  border-radius: 50%;
  margin-right: 8px;
  animation: pulse 2s infinite;

  @keyframes pulse {
    0% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
    100% {
      opacity: 1;
    }
  }
}

// Export button styles
.export-button {
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
  }

  &:hover::before {
    left: 100%;
  }
}

// Chart interaction styles
.chart-container {
  position: relative;

  &:hover {
    .chart-tooltip {
      opacity: 1;
      visibility: visible;
    }
  }
}

.chart-tooltip {
  position: absolute;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 12px;
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s ease;
  z-index: 1000;
} 